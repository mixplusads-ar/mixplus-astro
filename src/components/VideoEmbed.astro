---
const { lang = 'fa', links = {}, title = 'MixPlus Video', ratio = '16/9' } = Astro.props;
const yt = links?.youtube ?? '';
const ap = links?.aparat ?? '';
const src = lang === 'fa' ? (ap || yt) : (yt || ap);
---
{src && (
  <div class="video-wrap" style={`--ratio:${ratio};`}>
    <iframe src={src} title={title} allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading="lazy" class="video-iframe" />
  </div>
)}
<style>
.video-wrap{position:relative;width:100%;aspect-ratio:var(--ratio,16/9);border-radius:16px;overflow:hidden;background:#0002}
.video-iframe{position:absolute;inset:0;width:100%;height:100%;border:0;display:block}
</style>
